2025-11-14 11:45:45 - __main__ - INFO - Logging to file: ./logs/counting_20251114_114545.log
2025-11-14 11:45:45 - __main__ - INFO - Logging to console: enabled
2025-11-14 11:45:45 - __main__ - INFO - CUDA not available, will use CPU
2025-11-14 11:45:45 - __main__ - INFO - Visualization mode: Save to video files
2025-11-14 11:45:45 - __main__ - INFO - Using standard CPU consumer
2025-11-14 11:45:47 - consumer_cpu - INFO - Parallel processing enabled with 4 workers
2025-11-14 11:45:47 - consumer_cpu - INFO - Video output directory: ./output_videos
2025-11-14 11:45:47 - consumer_cpu - INFO - Initialized counter for Camera 1 with line: [[240, 0], [240, 480]]
2025-11-14 11:45:47 - consumer_cpu - INFO - Initialized counter for Camera 2 with line: [[240, 0], [240, 480]]
2025-11-14 11:45:47 - consumer_cpu - INFO - Model loaded on cpu
2025-11-14 11:45:47 - consumer_cpu - INFO - Model input size: (854, 480)
2025-11-14 11:45:47 - consumer_cpu - INFO - Counting log interval: 900 seconds
2025-11-14 11:45:47 - consumer_cpu - INFO - Visualization mode: save
2025-11-14 11:45:47 - consumer_cpu - INFO - Available classes: ['person', 'bicycle', 'car', 'motorcycle', 'airplane', 'bus', 'train', 'truck', 'boat', 'traffic light', 'fire hydrant', 'stop sign', 'parking meter', 'bench', 'bird', 'cat', 'dog', 'horse', 'sheep', 'cow', 'elephant', 'bear', 'zebra', 'giraffe', 'backpack', 'umbrella', 'handbag', 'tie', 'suitcase', 'frisbee', 'skis', 'snowboard', 'sports ball', 'kite', 'baseball bat', 'baseball glove', 'skateboard', 'surfboard', 'tennis racket', 'bottle', 'wine glass', 'cup', 'fork', 'knife', 'spoon', 'bowl', 'banana', 'apple', 'sandwich', 'orange', 'broccoli', 'carrot', 'hot dog', 'pizza', 'donut', 'cake', 'chair', 'couch', 'potted plant', 'bed', 'dining table', 'toilet', 'tv', 'laptop', 'mouse', 'remote', 'keyboard', 'cell phone', 'microwave', 'oven', 'toaster', 'sink', 'refrigerator', 'book', 'clock', 'vase', 'scissors', 'teddy bear', 'hair drier', 'toothbrush']
2025-11-14 11:45:47 - __main__ - INFO - Starting Multi-Camera Object Counting System with save mode
2025-11-14 11:45:47 - __main__ - INFO - Consumer mode: CPU
2025-11-14 11:45:47 - __main__ - INFO - Count logging interval: 900 seconds
2025-11-14 11:45:47 - __main__ - INFO - Parallel processing: ENABLED (4 workers)
2025-11-14 11:45:47 - __main__ - INFO - Starting health API on http://0.0.0.0:8080
2025-11-14 11:45:47 - __main__ - INFO - Health API endpoints:
2025-11-14 11:45:47 - __main__ - INFO -   - Status: http://0.0.0.0:8080/status
2025-11-14 11:45:47 - __main__ - INFO -   - Health: http://0.0.0.0:8080/health
2025-11-14 11:45:47 - __main__ - INFO -   - Cameras: http://0.0.0.0:8080/cameras
2025-11-14 11:45:47 - __main__ - INFO - Starting Producer.
2025-11-14 11:45:47 - producer - INFO - Camera camera_1 - Counting Line: True, Classes: ['person']
2025-11-14 11:45:47 - producer - INFO - Started capture for Camera 1 - Counting Line: True, Classes: ['person']
2025-11-14 11:45:47 - producer - INFO - Camera camera_2 - Counting Line: True, Classes: ['person', 'car']
2025-11-14 11:45:47 - producer - INFO - Started capture for Camera 2 - Counting Line: True, Classes: ['person', 'car']
2025-11-14 11:45:47 - __main__ - INFO - Starting Consumer thread.
2025-11-14 11:45:47 - __main__ - INFO - Pipeline running. Press Ctrl+C to stop.
2025-11-14 11:45:47 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://10.124.18.164:8080
2025-11-14 11:45:47 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-11-14 11:45:48 - producer - INFO - camera_2: Successfully connected
2025-11-14 11:45:49 - producer - INFO - camera_1: Successfully connected
2025-11-14 11:45:50 - consumer_cpu - INFO - Created video writer for Camera 2: ./output_videos/camera_2_Camera_2_20251114_114550.mp4
2025-11-14 11:45:50 - consumer_cpu - INFO - Created video writer for Camera 1: ./output_videos/camera_1_Camera_1_20251114_114550.mp4
2025-11-14 11:46:02 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:02] "GET /status HTTP/1.1" 200 -
2025-11-14 11:46:06 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:06] "GET /status HTTP/1.1" 200 -
2025-11-14 11:46:08 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:08] "GET /status HTTP/1.1" 200 -
2025-11-14 11:46:25 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:25] "GET /status HTTP/1.1" 200 -
2025-11-14 11:46:25 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-11-14 11:46:33 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:33] "GET /cameras HTTP/1.1" 200 -
2025-11-14 11:46:41 - werkzeug - INFO - 127.0.0.1 - - [14/Nov/2025 11:46:41] "GET /health HTTP/1.1" 200 -
2025-11-14 11:46:48 - __main__ - INFO - ================================================================================
2025-11-14 11:46:48 - __main__ - INFO - SYSTEM STATUS
2025-11-14 11:46:48 - __main__ - INFO - Consumer mode: CPU
2025-11-14 11:46:48 - __main__ - INFO - Frame queue size: 1
2025-11-14 11:46:48 - __main__ - INFO - Camera Status:
2025-11-14 11:46:48 - __main__ - INFO -   camera_2: Connected | Thread: Running
2025-11-14 11:46:48 - __main__ - INFO -   camera_1: Connected | Thread: Running
2025-11-14 11:46:48 - __main__ - INFO - Counting Status:
2025-11-14 11:46:48 - __main__ - INFO -   Camera 1 (camera_1):
2025-11-14 11:46:48 - __main__ - ERROR - Fatal error: 'in_count'
Traceback (most recent call last):
  File "/Users/arnabchakraborty/Desktop/WrishavSett/mcva/V3.3/main.py", line 433, in main
    app.start()
  File "/Users/arnabchakraborty/Desktop/WrishavSett/mcva/V3.3/main.py", line 278, in start
    self._print_status()
  File "/Users/arnabchakraborty/Desktop/WrishavSett/mcva/V3.3/main.py", line 329, in _print_status
    logger.info(f"    Current IN: {status['in_count']} | OUT: {status['out_count']}")
KeyError: 'in_count'
